{"version":3,"sources":["components/Searchbar.js","components/ImageGalleryItem.js","components/Modal.js","components/ImageGallery.js","App.jsx","index.js"],"names":["Searchbar","state","searchValue","handleChange","event","value","target","setState","handleSubmit","preventDefault","trim","props","onSubmitToApp","toast","error","className","onSubmit","this","type","autocomplete","autofocus","placeholder","onChange","React","Component","ImageGalleryItem","onClick","openBigImg","image","largeImageURL","src","webformatURL","alt","width","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleOverlayClick","currentTarget","window","addEventListener","removeEventListener","createPortal","children","ImageGallery","images","currentPage","status","currentImageUrl","showModal","onBtnClick","toggleModal","HandlerOpenBigImg","url","prevProps","prevState","console","log","loading","fetch","then","response","ok","json","hits","length","catch","map","key","id","App","handleFormSubmit","ReactDOM","render","StrictMode","getElementById"],"mappings":"gOAiDeA,E,4MA5CbC,MAAQ,CACNC,YAAc,I,EAGhBC,aAAe,SAAAC,GAAS,IACdC,EAASD,EAAME,OAAfD,MACR,EAAKE,SAAS,CAACL,YAAaG,K,EAE9BG,aAAe,SAAAJ,GACbA,EAAMK,iBAEgC,KAAlC,EAAKR,MAAMC,YAAYQ,QAK3B,EAAKC,MAAMC,cAAc,EAAKX,MAAMC,aACpC,EAAKK,SAAS,CAACL,YAAa,MAL1BW,IAAMC,MAAM,2F,uDAUd,OACE,wBAAQC,UAAU,YAAlB,SACE,uBAAMC,SAAUC,KAAKT,aAAcO,UAAU,aAA7C,UACE,wBAAQG,KAAK,SAASH,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEA,UAAU,mBACVG,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZhB,MAAOY,KAAKhB,MAAMC,YAClBoB,SAAUL,KAAKd,wB,GArCHoB,IAAMC,W,OCQfC,EAXU,SAAnBA,EAAoBd,GAAD,OACvB,oBACEe,QAAS,kBAAMf,EAAMgB,WAAWhB,EAAMiB,MAAMC,gBAC5Cd,UAAWU,EAFb,SAIE,qBAAKK,IAAKnB,EAAMiB,MAAMG,aAAeC,IAAI,mBACvCC,MAAM,aCHNC,EAAYC,SAASC,cAAc,eAEpBC,E,4MAUnBC,cAAgB,SAAAC,GACA,WAAXA,EAAEC,MACH,EAAK7B,MAAM8B,W,EAIfC,mBAAqB,SAAAH,GACfA,EAAEI,gBAAkBJ,EAAEjC,QACxB,EAAKK,MAAM8B,W,kEAfbG,OAAOC,iBAAiB,UAAW5B,KAAKqB,iB,6CAIxCM,OAAOE,oBAAoB,UAAW7B,KAAKqB,iB,+BAgB3C,OAAOS,uBACL,qBAAKhC,UAAU,UAAUW,QAAST,KAAKyB,mBAAvC,SACE,qBAAK3B,UAAU,QAAf,SACGE,KAAKN,MAAMqC,aAGhBd,O,GA7B6BX,IAAMC,WCFpByB,E,4MACnBhD,MAAQ,CACNiD,OAAQ,GACRC,YAAc,EACdC,OAAQ,OACRC,gBAAiB,KACjBC,WAAY,G,EAuCdC,WAAa,WACX,OAAO,EAAKhD,UAAS,SAAAN,GAAK,MACvB,CAACkD,YAAalD,EAAMkD,YAAc,O,EAGvCK,YAAc,WACZ,EAAKjD,UAAS,SAAAN,GAAK,MAAK,CACtBqD,WAAarD,EAAMqD,e,EAIvBG,kBAAoB,SAACC,GACnB,EAAKnD,SAAS,CAAE8C,gBAAiBK,IACjC,EAAKF,e,iEAjDYG,EAAWC,GAAY,IAAD,OACvC,GAAID,EAAUzD,cAAgBe,KAAKN,MAAMT,aAAe0D,EAAUT,cAAgBlC,KAAKhB,MAAMkD,YAAY,CACvGlC,KAAKV,SAAS,CAAC6C,OAAS,YACxBS,QAAQC,IAAI,+FAERH,EAAUzD,cAAgBe,KAAKN,MAAMT,cACvCe,KAAKV,SAAS,CAAC2C,OAAQ,KACrBS,EAAUzD,cAAgBe,KAAKN,MAAMT,aACvCe,KAAKV,SAAS,CAAC4C,YAAa,KAG9B,IACMO,EAAG,qCAAiCzC,KAAKN,MAAMT,YAA5C,iBAAgEe,KAAKhB,MAAMkD,YAA3E,gBADO,qCACP,wDAmBTlC,KAAKV,SAAS,CAACwD,SAAS,IACd9C,KAAKN,MAAMT,YAjBnB8D,MAAMN,GACLO,MAAK,SAAAC,GACJ,GAAIA,EAASC,GAAM,OAAOD,EAASE,OACjC,EAAK7D,SAAS,CAAC6C,OAAQ,gBAE1Ba,MAAK,SAAAC,GAMJ,OALAL,QAAQC,IAAII,GACX,EAAK3D,UAAS,SAAAN,GAAK,MAAK,CACvBiD,OAAO,GAAD,mBAAMjD,EAAMiD,QAAZ,YAAuBgB,EAASG,WAExCR,QAAQC,IAAI,EAAK7D,MAAMiD,QACU,IAA7B,EAAKjD,MAAMiD,OAAOoB,OAAsB,EAAK/D,SAAS,CAAE6C,OAAQ,aAC7D,EAAK7C,SAAS,CAAE6C,OAAQ,gBAEhCmB,OAAM,SAAAzD,GAAK,OAAI,EAAKP,SAAS,CAAE6C,OAAQ,mB,+BAuBpC,IAAD,SAEwCnC,KAAKhB,MAA5CmD,EAFD,EAECA,OAAQE,EAFT,EAESA,UAAWD,EAFpB,EAEoBA,gBAE3B,MAAe,SAAXD,EACK,yHAEM,YAAXA,EACK,gJAEM,aAAXA,EACK,uDAA0BnC,KAAKN,MAAMT,eAE/B,aAAXkD,EAEA,qCACA,oBAAIrC,UAAU,eAAd,SACGE,KAAKhB,MAAMiD,OAAOsB,KAAI,SAAC5C,EAAO6C,GAAR,OACrB,cAAC,EAAD,CACE9C,WAAY,EAAK8B,kBAEjB7B,MAAOA,GADFA,EAAM8C,SAKjB,wBAAQxD,KAAK,SAASQ,QAAST,KAAKsC,WAAYxC,UAAU,SAA1D,uBACEuC,GAAc,cAAC,EAAD,CAAOb,QAAUxB,KAAKuC,YAAtB,SACZ,qBAAK1B,IAAKuB,EAAiBrB,IAAI,eAdvC,M,GA1EsCT,IAAMC,WCE3BmD,E,4MACnB1E,MAAQ,CACNC,YAAc,I,EAGhB0E,iBAAmB,SAAA1E,GACjB,EAAKK,SAAS,CAAEL,iB,uDAIhB,OACE,gCAEE,cAAC,EAAD,CAAWU,cAAeK,KAAK2D,mBAC/B,cAAC,EAAD,CAAc1E,YAAae,KAAKhB,MAAMC,qB,GAdbqB,IAAMC,W,MCCvCqD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF5C,SAAS6C,eAAe,W","file":"static/js/main.cb5c1dca.chunk.js","sourcesContent":["import React from 'react';\nimport { toast } from 'react-toastify' \n// import { v4 as uuidv4 } from 'uuid';\n\nclass Searchbar extends React.Component{\n  state = { \n    searchValue : ''\n  }\n\n  handleChange = event =>{\n    const { value} = event.target;\n    this.setState({searchValue: value})\n  }\n  handleSubmit = event =>{\n    event.preventDefault ();\n\n    if (this.state.searchValue.trim() === ''){\n      toast.error(\"Введите что-либо\");\n      return;\n    }\n      \n    this.props.onSubmitToApp(this.state.searchValue)\n    this.setState({searchValue: ''})\n  }\n\n  render (){\n\n    return(\n      <header className=\"Searchbar\">\n        <form onSubmit={this.handleSubmit} className=\"SearchForm\">\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autocomplete=\"off\"\n            autofocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchValue} \n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    )\n  }\n}\n\nexport default Searchbar","\nconst ImageGalleryItem = (props) => (\n  <li\n    onClick={() => props.openBigImg(props.image.largeImageURL)}\n    className={ImageGalleryItem}>\n\n    <img src={props.image.webformatURL}  alt=\"props.image.tags\" \n      width='300px'\n    />\n  </li> \n)\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport { createPortal } from 'react-dom';\n\n\nconst modalRoot = document.querySelector('#modal-root')\n\nexport default class Modal extends React.Component{\n  \n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown )\n  }\n  \n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown )\n  }\n\n  handleKeyDown = e =>{\n    if(e.code === 'Escape'){\n      this.props.onClose();\n    }\n  }\n\n  handleOverlayClick = e => {\n    if (e.currentTarget === e.target){\n      this.props.onClose();\n    }\n  }\n\n  render(){\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleOverlayClick}>\n        <div className=\"Modal\">\n          {this.props.children}\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n\n}","import React from 'react';\nimport ImageGalleryItem from './ImageGalleryItem'\nimport Modal from './Modal'\n\nexport default class ImageGallery extends React.Component{\n  state = {\n    images: [],\n    currentPage : 1,\n    status: 'idle',\n    currentImageUrl: null,\n    showModal : false,\n}\n  \n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.searchValue !== this.props.searchValue || prevState.currentPage !== this.state.currentPage){\n      this.setState({status : 'pending'})\n      console.log(\"изменился запрос\");\n      \n      if (prevProps.searchValue !== this.props.searchValue){\n        this.setState({images: []})\n      if (prevProps.searchValue !== this.props.searchValue){\n        this.setState({currentPage: 1})\n      }    \n    }\n      const  apiKey = \"18829521-149535e09ae4dfbd453ab9183\";\n      const url = `https://pixabay.com/api/?q=${this.props.searchValue}&page=${this.state.currentPage}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`;\n  \n      const fetchImg = ()=>{\n        fetch(url)\n        .then(response => {\n          if (response.ok) { return response.json()}\n            this.setState({status: 'rejected'})\n        })  \n        .then(response => {\n          console.log(response);\n           this.setState(state => ({\n            images: [...state.images, ...response.hits]\n          }))\n          console.log(this.state.images);\n          if (this.state.images.length === 0) {return this.setState({ status: 'rejected' })} \n          return this.setState({ status: 'resolved' })\n        })\n        .catch(error => this.setState({ status: 'rejected' }))        \n      }\n      this.setState({loading: true})\n      fetchImg (this.props.searchValue)\n    }\n  }\n\n  onBtnClick = () =>{\n    return this.setState(state =>\n      ({currentPage: state.currentPage + 1}))\n  }  \n\n  toggleModal = () => {\n    this.setState(state => ({\n      showModal : !state.showModal\n    }))\n  }\n\n  HandlerOpenBigImg = (url) => {\n    this.setState({ currentImageUrl: url})\n    this.toggleModal();\n  }\n\n  render() {\n\n    const { status, showModal, currentImageUrl } = this.state;\n\n    if (status === 'idle'){\n      return <div>Введите что-либо</div>\n    }\n    if (status === 'pending'){\n      return <div>подождите загружаем</div>\n    }\n    if (status === 'rejected'){\n      return <h1>Result not found for {this.props.searchValue}</h1>\n    }\n    if (status === 'resolved'){\n      return(\n        <>\n        <ul className=\"ImageGallery\">\n          {this.state.images.map((image, key) =>\n            <ImageGalleryItem \n              openBigImg={this.HandlerOpenBigImg}\n              key={image.id}\n              image={image}/>\n          )}\n        </ul>\n\n        <button type='button' onClick={this.onBtnClick} className=\"Button\">Load more</button>\n        { showModal &&  <Modal onClose ={this.toggleModal}>             \n            <img src={currentImageUrl} alt=\"\" /> \n          </Modal>}\n        </>\n      )\n    }    \n  }\n}  ","import React from 'react'; \n// import { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\n\nexport default class App extends React.Component {\n  state = { \n    searchValue : '',\n  }   \n\n  handleFormSubmit = searchValue => {\n    this.setState({ searchValue })\n  } \n \n  render() {\n    return (\n      <div>\n     \n        <Searchbar onSubmitToApp={this.handleFormSubmit}/>\n        <ImageGallery searchValue={this.state.searchValue}/>\n       \n        {/* <ToastContainer\n          position=\"top-right\"\n          autoClose={5000} />         */}\n  \n      </div>\n    )\n  }  \n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\n// ReactDOM.render(<App />, document.getElementById('root'));\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}